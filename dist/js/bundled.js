(()=>{"use strict";function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}const n=function(){function n(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.suits=["hearts","diamonds","spades","clubs"],this.values=["2","3","4","5","6","7","8","9","10","jack","queen","king","ace"],this.fullDeck=new Array}var t,a;return t=n,(a=[{key:"constructDeck",value:function(){for(var e=0;e<this.suits.length;e++)for(var n=0;n<this.values.length;n++){var t={suit:this.suits[e],value:this.values[n],weight:0,id:1};"ace"===t.value?t.weight=11:"jack"===t.value||"queen"===t.value||"king"===t.value?t.weight=10:t.weight=Number(t.value),this.fullDeck.push(t)}}},{key:"shuffleDeck",value:function(){for(var e,n,t=this.fullDeck.length;t>0;)n=Math.floor(Math.random()*t),t-=1,e=this.fullDeck[t],this.fullDeck[t]=this.fullDeck[n],this.fullDeck[n]=e;return this.fullDeck}}])&&e(t.prototype,a),n}(),t=function e(n,t){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=n,this.id=t,this.hand=new Array,this.points=0};function a(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}const o=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t;return n=e,(t=[{key:"dealCards",value:function(e,n){for(var t=0;t<2;t++)for(var a=0;a<e.length;a++){var o=n.pop();e[a].hand.push(o)}}},{key:"hitMe",value:function(e,n){e.hand.push(n.pop())}},{key:"getPoints",value:function(e){for(var n=0,t=0;t<e.hand.length;t++)n+=e.hand[t].weight;e.points=n}},{key:"aceCheck",value:function(e){for(var n=e.points+e.hand[e.hand.length-1].weight,t=0;t<e.hand.length;t++)"ace"===e.hand[t].value&&n>21&&(e.hand[t].weight=1)}}])&&a(n.prototype,t),e}();function r(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}const i=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t;return n=e,t=[{key:"updatePointsUI",value:function(e,n){n.innerHTML=e.points}},{key:"renderCards",value:function(e,n){n.innerHTML="";for(var t=0;t<e.hand.length;t++){var a=e.hand[t],o=document.createElement("img");o.src="./img/".concat(a.value,"_of_").concat(a.suit,".svg"),n.appendChild(o)}}},{key:"houseInitialRender",value:function(e,n,t){var a=e.hand[0],o=document.createElement("img"),r=document.createElement("img");o.src="../img/".concat(a.value,"_of_").concat(a.suit,".svg"),r.src="../img/back.png",n.appendChild(o),n.appendChild(r),t.innerHTML=a.weight}},{key:"setMessage",value:function(e){document.querySelector("#message").innerHTML=e,popUp.classList.remove("d-none")}},{key:"closePopUp",value:function(e,n){e.classList.add("d-none"),n.classList.remove("d-none")}},{key:"countDeck",value:function(e,n){e.innerHTML=n.length}},{key:"lostAlready",value:function(e,n,t,a,o,r){e.points>21&&(n.disabled=!0,t.disabled=!0,a.innerHTML="You lose, LOSER!",o.classList.remove("d-none"),r.house+=1)}},{key:"gameOver",value:function(e,n,t,a,o){n.disabled=!0,t.disabled=!0,a.innerHTML=o,e.classList.remove("d-none")}}],null&&r(n.prototype,null),t&&r(n,t),e}();var s=new n,c=new Array,u=new t("House",1),l=new t("Player",2),d=new o,h={house:0,player:0},f=document.querySelector("#player-name-input"),m=document.querySelector("#player-name"),p=document.querySelector("#start-btn-div"),v=document.querySelector("#game-btn-div"),y=document.querySelector("#popup-container"),g=document.getElementById("message"),k=document.getElementById("remaining-cards"),b=document.querySelector(".cards--player"),w=document.querySelector(".cards--house"),L=document.getElementById("house-points"),E=document.getElementById("player-points"),D=document.getElementById("hit-btn"),I=document.getElementById("stand-btn"),P=document.getElementById("close-btn"),M=document.getElementById("restart-btn"),C=document.getElementById("restart-popup-btn"),T=document.getElementById("house-score"),H=document.getElementById("player-score"),B=document.getElementById("score-name");function U(){s=new n,c=new Array,u=new t("House",1),l=new t("Player",2),d=new o,c.push(u,l),s.constructDeck(),s.shuffleDeck(),i.updatePointsUI(u,L),i.updatePointsUI(l,E),b.innerHTML="",w.innerHTML="",D.disabled=!1,I.disabled=!1,T.innerHTML=h.house,H.innerHTML=h.player,q()}function q(){l.name=f.value,B.innerHTML=f.value,m.innerHTML=f.value,p.classList.add("d-none"),v.classList.remove("d-none"),d.dealCards(c,s.fullDeck),d.getPoints(u),d.getPoints(l),i.countDeck(k,s.fullDeck),i.houseInitialRender(u,w,L),i.renderCards(l,b),i.updatePointsUI(l,E)}c.push(u,l),s.constructDeck(),s.shuffleDeck(),document.getElementById("start-btn").addEventListener("click",(function(){""===f.value?(C.classList.add("d-none"),y.classList.remove("d-none"),message.innerHTML="Please Enter your name"):q()})),D.addEventListener("click",(function(){d.hitMe(l,s.fullDeck),d.aceCheck(l),d.getPoints(l),i.countDeck(k,s.fullDeck),i.updatePointsUI(l,E),i.renderCards(l,b),i.lostAlready(l,D,I,g,y,h)})),I.addEventListener("click",(function e(){u.points<17&&u.points<l.points?(d.hitMe(u,s.fullDeck),d.aceCheck(u),d.getPoints(u),i.countDeck(k,s.fullDeck),i.updatePointsUI(u,L),i.renderCards(u,w),e()):u.points>21||l.points>u.points?(i.updatePointsUI(u,L),i.renderCards(u,w),i.gameOver(y,D,I,g,"Winner winner, chicken DINNER!"),h.player+=1):(i.updatePointsUI(u,L),i.renderCards(u,w),i.gameOver(y,D,I,g,"You lose, LOSER!"),h.house+=1)})),P.addEventListener("click",(function(){i.closePopUp(y,C)})),M.addEventListener("click",U),C.addEventListener("click",(function(){U(),i.closePopUp(y,M)}))})();